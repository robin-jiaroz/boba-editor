(this["webpackJsonpboba-editor"]=this["webpackJsonpboba-editor"]||[]).push([[0],{125:function(e,o,t){},139:function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAA2AgMAAADynIxmAAAADFBMVEX///9cPo/RpzqTlZebCIGjAAAAPklEQVQ4y2MgFvD//wBhsIYGMHCtWjHYxEgDCL1DSoyIOBINDQgNheodbGIk+gMeBkNBjNw40lrVMKjEiAQA922+JUlcQv4AAAAASUVORK5CYII="},169:function(e,o,t){e.exports=t(328)},175:function(e,o,t){},296:function(e,o,t){},297:function(e,o,t){},328:function(e,o,t){"use strict";t.r(o);var n=t(0),l=t.n(n),c=t(34),a=t.n(c),i=t(87),s=t.n(i),r=t(138),d=t(159),p=t(16),k=t(20),u=t(21),m=t(23),b=t(22),B=(t(175),t(335)),g=t(139),v=t.n(g),h=[{key:1,text:"Normal Block",value:"Normal Block"},{key:2,text:"Decision Block",value:"Decision Block"}],f=[{key:1,text:"Boba Config",value:"Boba Config"}],y=[{key:1,text:"python",value:"python"},{key:2,text:"java",value:"java"},{key:3,text:"javascript",value:"javascript"},{key:4,text:"json",value:"json"},{key:5,text:"matlab",value:"matlab"},{key:6,text:"r",value:"r"}],C=[{key:1,text:"json",value:"json"}],H=function(e){Object(m.a)(t,e);var o=Object(b.a)(t);function t(){var e;Object(k.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=o.call.apply(o,[this].concat(l))).onLogoClickHandler=function(){window.open("https://idl.cs.washington.edu/")},e.onAboutClickHandler=function(){window.open("https://github.com/uwdata/boba")},e}return Object(u.a)(t,[{key:"render",value:function(){var e,o,t=this;return console.log("TopMenu is rerendered!!"),console.log("current selectedBlockType: "+this.props.selectedBlockType),console.log("current selectedBlockLanguage: "+this.props.selectedBlockLanguage),"Boba Config"===this.props.selectedBlockType?e=l.a.createElement(B.a,{options:f,selection:!0,disabled:!0,value:"Boba Config"}):this.props.selectedBlockType?e=l.a.createElement(B.a,{onChange:this.props.onBlockTypeSelectHandler,options:h,placeholder:"Choose an block type",selection:!0,value:this.props.selectedBlockType}):(console.log("selectedBlockType is undefined"),e=l.a.createElement(B.a,{onChange:this.props.onBlockTypeSelectHandler,options:h,placeholder:"Choose an block type",selection:!0,value:""})),"Boba Config"===this.props.selectedBlockType?o=l.a.createElement(B.a,{options:C,selection:!0,disabled:!0,value:"json"}):this.props.selectedBlockLanguage?o=l.a.createElement(B.a,{onChange:this.props.onBlockLanguageSelectHandler,options:y,placeholder:"Choose an language",selection:!0,value:this.props.selectedBlockLanguage}):(console.log("selectedBlockLanguage is undefined"),o=l.a.createElement(B.a,{onChange:this.props.onBlockLanguageSelectHandler,options:y,placeholder:"Choose an language",selection:!0,value:""})),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"ui fixed menu"},l.a.createElement("a",{href:"#"},l.a.createElement("div",{className:"item",onClick:this.onLogoClickHandler},l.a.createElement("img",{src:v.a,alt:"Boba Editor Logo"}))),l.a.createElement(B.a,{text:"File",pointing:!0,className:"link item"},l.a.createElement(B.a.Menu,null,l.a.createElement(B.a.Item,{onClick:this.props.onDownloadClickHandler},"Download"),l.a.createElement(B.a.Item,{onClick:this.props.onCompileClickHandler},"Compile"))),l.a.createElement(B.a,{text:"Edit",pointing:!0,className:"link item"},l.a.createElement(B.a.Menu,null,l.a.createElement(B.a.Item,null,"Copy Block"),l.a.createElement(B.a.Item,{onClick:function(){return t.props.removeBlockHandler(t.props.selectedBlock)}},"Delete Block"),l.a.createElement(B.a.Item,{onClick:this.props.moveSelectedBlockUpHandler},"Move Block Up"),l.a.createElement(B.a.Item,{onClick:this.props.moveSelectedBlockDownHandler},"Move Block Down"))),l.a.createElement(B.a,{text:"Insert",pointing:!0,className:"link item"},l.a.createElement(B.a.Menu,null,l.a.createElement(B.a.Item,{onClick:this.props.insertBlockAboveHandler},"Insert Block Above"),l.a.createElement(B.a.Item,{onClick:this.props.insertBlockBelowHandler},"Insert Block Below"))),l.a.createElement(B.a,{text:"Help",pointing:!0,className:"link item"},l.a.createElement(B.a.Menu,null,l.a.createElement(B.a.Item,{onClick:this.onAboutClickHandler},"About")))),l.a.createElement("div",{className:"toolbar"},l.a.createElement("button",{className:"ui compact icon button",title:"insert block below",onClick:this.props.insertBlockBelowHandler},l.a.createElement("i",{className:"plus icon"})),l.a.createElement("button",{className:"ui compact icon button",title:"move selected block down",onClick:this.props.moveSelectedBlockDownHandler},l.a.createElement("i",{className:"arrow down icon"})),l.a.createElement("button",{className:"ui compact icon button",title:"move selected block up",onClick:this.props.moveSelectedBlockUpHandler},l.a.createElement("i",{className:"arrow up icon"})),l.a.createElement("button",{className:"ui compact icon button",title:"delete selected block",onClick:function(){return t.props.removeBlockHandler(t.props.selectedBlock)}},l.a.createElement("i",{className:"trash alternate icon"})),l.a.createElement("button",{className:"ui compact icon button",title:"copy selected block",onClick:this.props.copySelectedBlockHandler},l.a.createElement("i",{className:"copy outline icon"})),l.a.createElement("button",{className:"ui compact icon button",title:"paste block below",onClick:this.props.pasteBlockBelowHanlder},l.a.createElement("i",{className:"paste icon"})),e," ",o))}}]),t}(l.a.Component),S=(l.a.Component,t(125),t(296),t(297),t(156)),E=t.n(S),O=(t(303),t(304),t(305),t(306),t(307),t(308),t(309),t(310),function(e){Object(m.a)(t,e);var o=Object(b.a)(t);function t(){var e;Object(k.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=o.call.apply(o,[this].concat(l))).editBlockNameHandler=function(){console.log("file name edited hah!");var o=document.getElementById(e.props.selectedBlock);o.querySelector(".input > .inner-block-container > .block-name-container > .block-name-wrapper > .saved-block-name").classList.add("hidden"),o.querySelector(".input > .inner-block-container > .block-name-container > .block-name-wrapper > .edit-block-name").classList.remove("hidden")},e.onMouseOverHanlder=function(e){e.target.classList.remove("outline")},e.onMouseLeaveHanlder=function(e){e.target.classList.add("outline")},e.onBlockNameSubmitHandler=function(o){o.preventDefault(),console.log(o.target.querySelector("input").value);for(var t=e.props.blocks.map((function(e){return Object(p.a)({},e)})),n=0;n<t.length;n++)if(e.props.selectedBlock===t[n].id){t[n].title=o.target.querySelector("input").value;break}e.props.onBlocksUpdate(t);var l=document.getElementById(e.props.selectedBlock);l.querySelector(".input > .inner-block-container > .block-name-container > .block-name-wrapper > .saved-block-name").classList.remove("hidden"),l.querySelector(".input > .inner-block-container > .block-name-container > .block-name-wrapper > .edit-block-name").classList.add("hidden")},e.editOptionNameHandler=function(e){var o=document.getElementById(e);console.log(o);var t=o.querySelector(".input > .inner-block-container > .inner-block-tab-container-wrapper > .options-tab-container > .option-tab-selected > .option-name-container");console.log(t),t.querySelector(".saved-option-name").classList.add("hidden"),t.querySelector(".edit-option-name").classList.remove("hidden")},e.onOptionNameSubmitHandler=function(o,t,n){o.preventDefault(),console.log(o.target.querySelector("input").value);for(var l=e.props.blocks.map((function(e){return Object(p.a)({},e)})),c=0;c<l.length;c++)if(t===l[c].id){for(var a=0;a<l[c].options.length;a++)if(n===l[c].options[a].optionId){l[c].options[a].optionTitle=o.target.querySelector("input").value;break}break}e.props.onBlocksUpdate(l);var i=document.getElementById(t).querySelector(".input > .inner-block-container > .inner-block-tab-container-wrapper > .options-tab-container > .option-tab-selected > .option-name-container");i.querySelector(".saved-option-name").classList.remove("hidden"),i.querySelector(".edit-option-name").classList.add("hidden")},e.onDropDownIconClick=function(o){console.log("onDropDownIconClick invoked"),e.props.onBlockDropDownClick(o);var t=document.getElementById(o).querySelector(".input > .inner-block-container > .inner-block-tab-container-wrapper");console.log(t),console.log(t.style.display),t.style.display&&"block"!==t.style.display?(t.style.display="block",console.log("expanded")):(t.style.display="none",console.log("collapsed"))},e.getRenderedContentForEditor=function(e){if(e.blockType&&"Normal Block"!==e.blockType&&"Boba Config"!==e.blockType){for(var o=0;o<e.options.length;o++)if(e.options[o].optionId===e.selectedOption)return e.options[o].optionContent;return"Some bug in getRenderedContentForEditor"}return e.content},e.getModeForEditor=function(e){return e.language?"Boba Config"===e.blockType?"json":e.language:"plain_text"},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this,o=this.props.blocks.map((function(o){var t,n=e.props.expandedBlocks.includes(o.id)?"down":"right",c=e.props.expandedBlocks.includes(o.id)?"collapse":"expand",a=e.props.selectedBlock===o.id?"selected":"unselected",i=e.props.selectedBlock===o.id?"":"invisible",s="Decision Block"===o.blockType?"":"hidden";return"Decision Block"===o.blockType&&(t=o.options.map((function(t){var n=t.optionId===o.selectedOption?"option-tab-selected":"option-tab-unselected",c=t.optionId===o.selectedOption?"":"invisible";return l.a.createElement("div",{key:o.id.toString()+"-"+t.optionId,className:"".concat(n),onClick:function(){return e.props.onOptionTabSelected(o.id,t.optionId)}},l.a.createElement("div",{className:"option-name-container"},l.a.createElement("span",{className:"saved-option-name"},t.optionTitle),l.a.createElement("form",{className:"edit-option-name hidden",onSubmit:function(n){return e.onOptionNameSubmitHandler(n,o.id,t.optionId)}},l.a.createElement("input",{className:"edit-option-name-box",type:"text",placeholder:t.optionTitle}),l.a.createElement("button",null,"Confirm"))),l.a.createElement("i",{className:"edit outline icon edit-option-icon ".concat(c),title:"click to define the name for this option",onClick:function(){return e.editOptionNameHandler(o.id)}}),l.a.createElement("i",{className:"close icon close-option-icon ".concat(c),title:"click to delete this option",onClick:function(n){return e.props.onOptionDeleteHandler(o.id,t.optionId,n)}}))}))),l.a.createElement("div",{key:o.id,id:o.id,className:"block-container ".concat(a),onClick:function(){return e.props.onBlockSelected(o.id)}},l.a.createElement("div",{className:"input"},l.a.createElement("div",{className:"prompt-container"},l.a.createElement("span",{className:"invisible"},l.a.createElement("i",{className:"edit outline icon",title:"click to define the name for this block",onClick:e.editBlockNameHandler,onMouseOver:e.onMouseOverHanlder,onMouseLeave:e.onMouseLeaveHanlder})),l.a.createElement("i",{className:"angle ".concat(n," icon"),title:"click to ".concat(c," this block"),onClick:function(){return e.onDropDownIconClick(o.id)}})),l.a.createElement("div",{className:"inner-block-container"},l.a.createElement("div",{className:"block-name-container"},l.a.createElement("div",{className:"block-name-wrapper"},l.a.createElement("span",{className:"saved-block-name"},o.title),l.a.createElement("form",{className:"edit-block-name hidden",onSubmit:e.onBlockNameSubmitHandler},l.a.createElement("input",{className:"edit-block-name-box",type:"text",placeholder:o.title}),l.a.createElement("button",null,"Confirm"))),l.a.createElement("span",{className:"".concat(i)},l.a.createElement("i",{className:"edit outline icon",title:"click to define the name for this block",onClick:e.editBlockNameHandler,onMouseOver:e.onMouseOverHanlder,onMouseLeave:e.onMouseLeaveHanlder}))),l.a.createElement("div",{className:"inner-block-tab-container-wrapper"},l.a.createElement("div",{className:"options-tab-container ".concat(s)},t,l.a.createElement("i",{className:"plus circle icon",title:"click to add a new option",onClick:function(){return e.props.addOptionWithinBlockHandler(o.id)}})),l.a.createElement(E.a,{onLoad:function(e){e.container.style.lineHeight=1.5},mode:e.getModeForEditor(o),theme:"iplastic",width:"100%",fontSize:14,maxLines:1e4,value:e.getRenderedContentForEditor(o),onChange:function(t){return e.props.onBlockContentChangeHandler(t,o.id)},name:o.id.toString(),editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0}})))))}));return l.a.createElement("div",null,o)}}]),t}(l.a.Component)),w=function(e){Object(m.a)(t,e);var o=Object(b.a)(t);function t(){return Object(k.a)(this,t),o.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"ten wide column"},l.a.createElement("div",{className:"ui segment editor"},l.a.createElement(O,{blocks:this.props.blocks,onBlockDropDownClick:this.props.onBlockDropDownClick,expandedBlocks:this.props.expandedBlocks,removeBlockHandler:this.props.removeBlockHandler,onBlockSelected:this.props.onBlockSelected,selectedBlock:this.props.selectedBlock,onBlocksUpdate:this.props.onBlocksUpdate,addOptionWithinBlockHandler:this.props.addOptionWithinBlockHandler,onOptionTabSelected:this.props.onOptionTabSelected,onOptionDeleteHandler:this.props.onOptionDeleteHandler,onBlockContentChangeHandler:this.props.onBlockContentChangeHandler})))}}]),t}(l.a.Component),x=t(157),I=t.n(x),T=t(158),N=t.n(T),D=function(e){Object(m.a)(t,e);var o=Object(b.a)(t);function t(){var e;Object(k.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=o.call.apply(o,[this].concat(l))).state={blocks:[{id:0,title:"Boba Config",content:"Please define your Boba Config here.",blockType:"Boba Config",language:"json",options:[],selectedOption:void 0,nextOptionId:void 0}],expandedBlocks:[0],nextBlockId:1,selectedBlock:0,selectedBlockType:"Boba Config",selectedBlockLanguage:"json"},e.onBlocksUpdate=function(o){e.setState({blocks:o}),console.log("onBlocksUpdate invoked"),console.log(e.state.blocks)},e.addBlockHandler=function(){var o=e.state.blocks.map((function(e){return Object(p.a)({},e)}));o.push({id:e.state.nextBlockId,title:"Input Script Block "+e.state.nextBlockId,content:"Please write your script for this block here.",blockType:void 0,language:void 0}),e.onBlockDropDownClick(e.state.nextBlockId),e.setState({blocks:o,nextBlockId:e.state.nextBlockId+1}),console.log(e.state.nextBlockId)},e.addOptionWithinBlockHandler=function(o){for(var t,n=e.state.blocks.map((function(e){return Object(p.a)({},e)})),l=0;l<n.length;l++)if(o===n[l].id){t=l;break}n[t].options.push({optionId:n[t].nextOptionId,optionTitle:"unnamed_option_"+n[t].nextOptionId,optionContent:"Please define your option here."}),n[t].selectedOption=n[t].nextOptionId,n[t].nextOptionId=n[t].nextOptionId+1,e.setState({blocks:n,selectedBlock:o,selectedBlockType:e.state.blocks[t].blockType,selectedBlockLanguage:e.state.blocks[t].language})},e.insertBlockAboveHandler=function(){for(var o=e.state.blocks.map((function(e){return Object(p.a)({},e)})),t=0;t<o.length;t++)if(e.state.selectedBlock===o[t].id){o.splice(t,0,{id:e.state.nextBlockId,title:"unnamed_block_"+e.state.nextBlockId,content:"Please write your script for this block here.",blockType:void 0,language:void 0,options:[]});break}e.onBlockDropDownClick(e.state.nextBlockId),e.setState({blocks:o,nextBlockId:e.state.nextBlockId+1,selectedBlock:e.state.nextBlockId,selectedBlockType:void 0,selectedBlockLanguage:void 0}),console.log(e.state.nextBlockId)},e.insertBlockBelowHandler=function(){for(var o=e.state.blocks.map((function(e){return Object(p.a)({},e)})),t=0;t<o.length;t++)if(e.state.selectedBlock===o[t].id){o.splice(t+1,0,{id:e.state.nextBlockId,title:"unnamed_block_"+e.state.nextBlockId,content:"Please write your script for this block here.",blockType:void 0,language:void 0,options:[]});break}e.onBlockDropDownClick(e.state.nextBlockId),e.setState({blocks:o,nextBlockId:e.state.nextBlockId+1,selectedBlock:e.state.nextBlockId,selectedBlockType:void 0,selectedBlockLanguage:void 0}),console.log(e.state.nextBlockId)},e.moveSelectedBlockUpHandler=function(){for(var o,t=e.state.blocks.map((function(e){return Object(p.a)({},e)})),n=0;n<t.length;n++)e.state.selectedBlock===t[n].id&&(o=n);if(console.log("moveSelectedBlockUpHandler selectedBlockIndex: "+o),o&&0!==o){var l=t[o];t[o]=t[o-1],t[o-1]=l,e.setState({blocks:t})}},e.moveSelectedBlockDownHandler=function(){for(var o,t=e.state.blocks.map((function(e){return Object(p.a)({},e)})),n=0;n<t.length;n++)e.state.selectedBlock===t[n].id&&(o=n);if(console.log("moveSelectedBlockDownHandler selectedBlockIndex: "+o),(o||0===o)&&o!==t.length-1){var l=t[o];t[o]=t[o+1],t[o+1]=l,e.setState({blocks:t})}},e.onBlockDropDownClick=function(o){var t=Object(d.a)(e.state.expandedBlocks);if(t.includes(o))for(var n=0;n<t.length;n++)t[n]===o&&t.splice(n,1);else t.push(o);e.setState({expandedBlocks:t}),console.log(e.state.expandedBlocks)},e.removeBlockHandler=function(o){if(1!==e.state.blocks.length){for(var t,n=0;n<e.state.blocks.length;n++)e.state.selectedBlock===e.state.blocks[n].id&&(t=n);console.log("removeBlockHandler selectedBlockIndex: "+t),t===e.state.blocks.length-1?e.setState({selectedBlock:e.state.blocks[t-1].id}):e.setState({selectedBlock:e.state.blocks[t+1].id});var l=e.state.blocks.filter((function(e){return e.id!==o}));e.setState({blocks:l})}},e.onBlockSelected=function(o){for(var t,n=0;n<e.state.blocks.length;n++)if(o===e.state.blocks[n].id){t=n;break}e.setState({selectedBlock:o,selectedBlockType:e.state.blocks[t].blockType,selectedBlockLanguage:e.state.blocks[t].language}),console.log("onBlockSelected invoked!"),console.log("current selected block id: "+e.state.selectedBlock),console.log("current selectedBlockType: "+e.state.selectedBlockType),console.log("current selectedBlockLanguage: "+e.state.selectedBlockLanguage)},e.onOptionTabSelected=function(o,t){console.log("onOptionTabSelected invoked!");for(var n,l=e.state.blocks.map((function(e){return Object(p.a)({},e)})),c=0;c<l.length;c++)if(o===l[c].id){n=c;break}l[n].selectedOption=t,e.setState({blocks:l,selectedBlock:o,selectedBlockType:e.state.blocks[n].blockType,selectedBlockLanguage:e.state.blocks[n].language})},e.onOptionDeleteHandler=function(o,t,n){console.log("onOptionDeleteHandler invoked!!!"),n.stopPropagation();for(var l=e.state.blocks.map((function(e){return Object(p.a)({},e)})),c=0;c<l.length;c++)if(o===l[c].id){for(var a=void 0,i=0;i<l[c].options.length;i++)if(t===l[c].options[i].optionId){a=i,console.log(i);break}if(console.log(l[c].options[a]),a>0){l[c].selectedOption=l[c].options[a-1].optionId;var s=l[c].options.filter((function(e){return e.optionId!==t}));l[c].options=s,console.log(l[c].options),e.setState({blocks:l,selectedBlock:o,selectedBlockType:l[c].blockType,selectedBlockLanguage:l[c].language})}else if(l[c].options.length>1){l[c].selectedOption=l[c].options[a+1].optionId;var r=l[c].options.filter((function(e){return e.optionId!==t}));l[c].options=r,console.log(l[c].options),e.setState({blocks:l,selectedBlock:o,selectedBlockType:l[c].blockType,selectedBlockLanguage:l[c].language})}else l[c].selectedOption=void 0,l[c].nextOptionId=void 0,l[c].options.pop(),l[c].blockType="Normal Block",e.setState({blocks:l,selectedBlock:o,selectedBlockType:l[c].blockType,selectedBlockLanguage:l[c].language});break}},e.copySelectedBlockHandler=function(){var o=document.getElementById(e.state.selectedBlock).querySelector(".input > .inner-block-container > .inner-block");if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(o),t.select().createTextRange(),document.execCommand("Copy"),alert("Copied div content to clipboard")}else if(window.getSelection){var n=window.getSelection(),l=document.createRange();l.selectNodeContents(o),n.removeAllRanges(),n.addRange(l),document.execCommand("Copy"),alert("Copied div content to clipboard")}},e.pasteBlockBelowHanlder=function(){e.insertBlockBelowHandler();var o=document.getElementById(e.state.selectedBlock);console.log("current selected block is: "+e.state.selectedBlock);var t=o.querySelector(".input > .inner-block-container > .inner-block");t.focus(),document.execCommand("paste"),console.log(t),console.log("pasted text is: "+t.textContent)},e.onBlockTypeSelectHandler=function(o,t){for(var n,l=t.value,c=e.state.blocks.map((function(e){return Object(p.a)({},e)})),a=0;a<c.length;a++)if(e.state.selectedBlock===c[a].id){n=a;break}"Decision Block"===l?(c[n].blockType=l,c[n].selectedOption=0,c[n].nextOptionId=1,c[n].options.push({optionId:0,optionTitle:"unnamed_option_"+c[n].selectedOption,optionContent:c[n].content}),c[n].content="Please write your script for this block here.",e.setState({blocks:c,selectedBlockType:l})):"Decision Block"===c[n].blockType?c[n].options.length>1?alert("The selected block couldn't be set to Normal Block since there are more than 1 option right now. Please delete to 1 option so that it becomes the Normal Block."):(console.log("could change to Normal Block now."),c[n].blockType=l,c[n].content=c[n].options.pop().optionContent,e.setState({blocks:c,selectedBlockType:l})):(c[n].blockType=l,e.setState({blocks:c,selectedBlockType:l})),console.log("onBlockTypeSelectHandler invoked!!!")},e.onBlockLanguageSelectHandler=function(o,t){for(var n,l=t.value,c=e.state.blocks.map((function(e){return Object(p.a)({},e)})),a=0;a<c.length;a++)if(e.state.selectedBlock===c[a].id){n=a;break}c[n].language=l,e.setState({blocks:c,selectedBlockLanguage:l}),console.log("onBlockLanguageSelectHandler invoked!!!")},e.onBlockContentChangeHandler=function(o,t){console.log("0nBlockContentChangeHandler invoked!!!");for(var n,l=e.state.blocks.map((function(e){return Object(p.a)({},e)})),c=0;c<l.length;c++)if(t===l[c].id){n=c;break}if(l[n].blockType&&"Normal Block"!==l[n].blockType&&"Boba Config"!==l[n].blockType)for(var a=0;a<l[n].options.length;a++)l[n].options[a].optionId===l[n].selectedOption&&(l[n].options[a].optionContent=o);else l[n].content=o;e.setState({blocks:l})},e.onDownloadClickHandler=function(){console.log("onDownloadClickHandler is invoked!!!");var o=e.makeUpScriptFile(),t=new Blob([o],{type:"text/plain;charset=utf-8"}),n="template";"python"===e.state.selectedBlockLanguage?n+=".py":n+="."+e.state.selectedBlockLanguage,I.a.saveAs(t,n)},e.onCompileClickHandler=Object(r.a)(s.a.mark((function o(){var t;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,N.a.post("/compile",{script:e.makeUpScriptFile()},{headers:{"Content-Type":"application/json"}});case 2:t=o.sent,console.log(t);case 4:case"end":return o.stop()}}),o)}))),e.makeUpScriptFile=function(){for(var o="",t=0;t<e.state.blocks.length;t++){var n=e.state.blocks[t];if("Boba Config"===n.blockType)o+="# --- (BOBA_CONFIG)\n"+n.content+"\n# --- (END)\n";else if("Normal Block"===n.blockType)o+="# --- ("+n.title+")\n"+n.content+"\n";else for(var l=0;l<n.options.length;l++){var c=n.options[l];o+="# --- ("+n.title+") "+c.optionTitle+"\n"+c.optionContent+"\n"}}return o},e}return Object(u.a)(t,[{key:"render",value:function(){return console.log("App is rerendered, current blocks:"),console.log(this.state.blocks),l.a.createElement("div",null,l.a.createElement(H,{selectedBlock:this.state.selectedBlock,selectedBlockType:this.state.selectedBlockType,selectedBlockLanguage:this.state.selectedBlockLanguage,addBlockHandler:this.addBlockHandler,insertBlockAboveHandler:this.insertBlockAboveHandler,insertBlockBelowHandler:this.insertBlockBelowHandler,moveSelectedBlockUpHandler:this.moveSelectedBlockUpHandler,moveSelectedBlockDownHandler:this.moveSelectedBlockDownHandler,removeBlockHandler:this.removeBlockHandler,copySelectedBlockHandler:this.copySelectedBlockHandler,pasteBlockBelowHanlder:this.pasteBlockBelowHanlder,onBlockTypeSelectHandler:this.onBlockTypeSelectHandler,onBlockLanguageSelectHandler:this.onBlockLanguageSelectHandler,onDownloadClickHandler:this.onDownloadClickHandler,onCompileClickHandler:this.onCompileClickHandler}),l.a.createElement("div",{className:"main-area"},l.a.createElement("div",{className:"ui container"},l.a.createElement(w,{blocks:this.state.blocks,onBlockDropDownClick:this.onBlockDropDownClick,expandedBlocks:this.state.expandedBlocks,removeBlockHandler:this.removeBlockHandler,onBlockSelected:this.onBlockSelected,selectedBlock:this.state.selectedBlock,onBlocksUpdate:this.onBlocksUpdate,addOptionWithinBlockHandler:this.addOptionWithinBlockHandler,onOptionTabSelected:this.onOptionTabSelected,onOptionDeleteHandler:this.onOptionDeleteHandler,onBlockContentChangeHandler:this.onBlockContentChangeHandler}))))}}]),t}(l.a.Component);a.a.render(l.a.createElement(D,null),document.querySelector("#root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.889bdac7.chunk.js.map