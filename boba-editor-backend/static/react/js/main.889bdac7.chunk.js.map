{"version":3,"sources":["images/idl-logo.png","components/TopMenu.js","components/VerticalMenu.js","components/BlockList.js","components/Editor.js","components/App.js","index.js"],"names":["module","exports","blockTypes","key","text","value","bobaConfig","languages","json","TopMenu","onLogoClickHandler","window","open","onAboutClickHandler","blockTypeDropDown","languageDropDown","console","log","this","props","selectedBlockType","selectedBlockLanguage","Dropdown","options","selection","disabled","onChange","onBlockTypeSelectHandler","placeholder","onBlockLanguageSelectHandler","className","href","onClick","src","logo","alt","pointing","Menu","Item","onDownloadClickHandler","onCompileClickHandler","removeBlockHandler","selectedBlock","moveSelectedBlockUpHandler","moveSelectedBlockDownHandler","insertBlockAboveHandler","insertBlockBelowHandler","title","copySelectedBlockHandler","pasteBlockBelowHanlder","React","Component","BlockList","editBlockNameHandler","curBlockContainer","document","getElementById","querySelector","classList","add","remove","onMouseOverHanlder","event","target","onMouseLeaveHanlder","onBlockNameSubmitHandler","preventDefault","clonedBlocks","blocks","map","block","i","length","id","onBlocksUpdate","editOptionNameHandler","blockId","curOptionNameContainer","onOptionNameSubmitHandler","optionId","j","optionTitle","onDropDownIconClick","onBlockDropDownClick","curInnerBlock","style","display","getRenderedContentForEditor","blockType","selectedOption","optionContent","content","getModeForEditor","language","renderedBlocks","active","expandedBlocks","includes","angleMessage","selected","invisible","hidden","option","optionTabSelected","optionTabInvisible","toString","onOptionTabSelected","onSubmit","type","onOptionDeleteHandler","onBlockSelected","onMouseOver","onMouseLeave","addOptionWithinBlockHandler","onLoad","editor","container","lineHeight","mode","theme","width","fontSize","maxLines","code","onBlockContentChangeHandler","name","editorProps","$blockScrolling","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","Editor","App","state","undefined","nextOptionId","nextBlockId","updatedBlocks","setState","addBlockHandler","push","selectedBlockIndex","splice","curSelectedBlock","clonedExpandedBlocks","filteredBlcok","filter","stopPropagation","selectedOptionIndex","filteredOptions","pop","elm","body","createTextRange","range","moveToElementText","select","execCommand","alert","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","focus","textContent","e","save","makeUpScriptFile","blob","Blob","filename","FileSaver","saveAs","a","axios","post","script","headers","response","curBlock","curOption","ReactDOM","render"],"mappings":"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","file":"js/main.889bdac7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAA2AgMAAADynIxmAAAADFBMVEX///9cPo/RpzqTlZebCIGjAAAAPklEQVQ4y2MgFvD//wBhsIYGMHCtWjHYxEgDCL1DSoyIOBINDQgNheodbGIk+gMeBkNBjNw40lrVMKjEiAQA922+JUlcQv4AAAAASUVORK5CYII=\"","import React from 'react';\r\nimport './TopMenu.css';\r\nimport { Dropdown } from 'semantic-ui-react';\r\nimport logo from '../images/idl-logo.png';\r\n\r\nconst blockTypes = [\r\n  { key: 1, text: 'Normal Block', value: 'Normal Block' },\r\n  { key: 2, text: 'Decision Block', value: 'Decision Block' },\r\n]\r\n\r\nconst bobaConfig = [\r\n  { key: 1, text: 'Boba Config', value: 'Boba Config' },\r\n]\r\n\r\nconst languages = [\r\n  { key: 1, text: 'python', value: 'python' },\r\n  { key: 2, text: 'java', value: 'java' },\r\n  { key: 3, text: 'javascript', value: 'javascript' },\r\n  { key: 4, text: 'json', value: 'json' },\r\n  { key: 5, text: 'matlab', value: 'matlab' },\r\n  { key: 6, text: 'r', value: 'r' }\r\n]\r\n\r\nconst json = [\r\n  { key: 1, text: 'json', value: 'json' },\r\n]\r\n\r\nclass TopMenu extends React.Component {\r\n\r\n  // state = {};\r\n\r\n  // handleChange = (e, { value }) => {\r\n  //   console.log(value);\r\n  // };\r\n\r\n  onLogoClickHandler = () => {\r\n    window.open(\"https://idl.cs.washington.edu/\");\r\n  }\r\n\r\n  onAboutClickHandler = () => {\r\n    window.open(\"https://github.com/uwdata/boba\");\r\n  }\r\n\r\n  render() {\r\n    // const { value } = this.state;\r\n    console.log(\"TopMenu is rerendered!!\");\r\n    console.log(\"current selectedBlockType: \" + this.props.selectedBlockType);\r\n    console.log(\"current selectedBlockLanguage: \" + this.props.selectedBlockLanguage);\r\n\r\n    let blockTypeDropDown;\r\n    if (this.props.selectedBlockType === 'Boba Config') {\r\n      blockTypeDropDown = (\r\n        <Dropdown\r\n          options={bobaConfig}\r\n          selection\r\n          disabled\r\n          value=\"Boba Config\"\r\n        />);\r\n    } else if (!this.props.selectedBlockType) {\r\n      console.log(\"selectedBlockType is undefined\");\r\n      blockTypeDropDown = (\r\n        <Dropdown\r\n          onChange={this.props.onBlockTypeSelectHandler}\r\n          options={blockTypes}\r\n          placeholder='Choose an block type'\r\n          selection\r\n          value={''}\r\n        />);\r\n    } else {\r\n      blockTypeDropDown = (\r\n        <Dropdown\r\n          onChange={this.props.onBlockTypeSelectHandler}\r\n          options={blockTypes}\r\n          placeholder='Choose an block type'\r\n          selection\r\n          value={this.props.selectedBlockType}\r\n        />);\r\n    }\r\n\r\n    let languageDropDown;\r\n    if (this.props.selectedBlockType === 'Boba Config') {\r\n      languageDropDown = (\r\n        <Dropdown\r\n          options={json}\r\n          selection\r\n          disabled\r\n          value=\"json\"\r\n        />);\r\n    } else if (!this.props.selectedBlockLanguage) {\r\n      console.log(\"selectedBlockLanguage is undefined\");\r\n      languageDropDown = (\r\n        <Dropdown\r\n          onChange={this.props.onBlockLanguageSelectHandler}\r\n          options={languages}\r\n          placeholder='Choose an language'\r\n          selection\r\n          value={''}\r\n        />);\r\n    } else {\r\n      languageDropDown = (\r\n        <Dropdown\r\n          onChange={this.props.onBlockLanguageSelectHandler}\r\n          options={languages}\r\n          placeholder='Choose an language'\r\n          selection\r\n          value={this.props.selectedBlockLanguage}\r\n        />);\r\n    }\r\n\r\n    return (\r\n      <div className=\"\">\r\n        <div className=\"ui fixed menu\">\r\n          <a href=\"#\">\r\n            <div className=\"item\" onClick={this.onLogoClickHandler}>\r\n              <img src={logo} alt=\"Boba Editor Logo\"></img>\r\n            </div>\r\n          </a>\r\n          <Dropdown text='File' pointing className='link item'>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item onClick={this.props.onDownloadClickHandler}>Download</Dropdown.Item>\r\n              <Dropdown.Item onClick={this.props.onCompileClickHandler}>Compile</Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown text='Edit' pointing className='link item'>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item>Copy Block</Dropdown.Item>\r\n              <Dropdown.Item onClick={() => this.props.removeBlockHandler(this.props.selectedBlock)}>Delete Block</Dropdown.Item>\r\n              <Dropdown.Item onClick={this.props.moveSelectedBlockUpHandler}>Move Block Up</Dropdown.Item>\r\n              <Dropdown.Item onClick={this.props.moveSelectedBlockDownHandler}>Move Block Down</Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown text='Insert' pointing className='link item'>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item onClick={this.props.insertBlockAboveHandler}>Insert Block Above</Dropdown.Item>\r\n              <Dropdown.Item onClick={this.props.insertBlockBelowHandler}>Insert Block Below</Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Dropdown text='Help' pointing className='link item'>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item onClick={this.onAboutClickHandler}>About</Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </div>\r\n        <div className=\"toolbar\">\r\n          <button className=\"ui compact icon button\" title=\"insert block below\" onClick={this.props.insertBlockBelowHandler}>\r\n            <i className=\"plus icon\"></i>\r\n          </button>\r\n          <button className=\"ui compact icon button\" title=\"move selected block down\" onClick={this.props.moveSelectedBlockDownHandler}>\r\n            <i className=\"arrow down icon\"></i>\r\n          </button>\r\n          <button className=\"ui compact icon button\" title=\"move selected block up\" onClick={this.props.moveSelectedBlockUpHandler}>\r\n            <i className=\"arrow up icon\"></i>\r\n          </button>\r\n          <button className=\"ui compact icon button\" title=\"delete selected block\" onClick={() => this.props.removeBlockHandler(this.props.selectedBlock)}>\r\n            <i className=\"trash alternate icon\"></i>\r\n          </button>\r\n          <button className=\"ui compact icon button\" title=\"copy selected block\" onClick={this.props.copySelectedBlockHandler}>\r\n            <i className=\"copy outline icon\"></i>\r\n          </button>\r\n          <button className=\"ui compact icon button\" title=\"paste block below\" onClick={this.props.pasteBlockBelowHanlder}>\r\n            <i className=\"paste icon\"></i>\r\n          </button>\r\n          {blockTypeDropDown}{' '}\r\n          {languageDropDown}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopMenu;","import React from 'react';\r\n\r\nclass VerticalMenu extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"three wide column\">\r\n        <div className=\"ui vertical fluid tabular menu\">\r\n          <a className=\"item active\">\r\n            Input Script\r\n          </a>\r\n          <a className=\"item\">\r\n            Boba Config\r\n          </a>\r\n          <a className=\"item\">\r\n            Generate Output\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VerticalMenu;","import React from 'react';\r\nimport './BlockList.css';\r\nimport AceEditor from \"react-ace\";\r\nimport \"brace/theme/iplastic\";\r\nimport 'brace/mode/matlab';\r\nimport 'brace/mode/r';\r\nimport 'brace/mode/plain_text';\r\nimport \"ace-builds/src-noconflict/mode-java\";\r\nimport \"ace-builds/src-noconflict/mode-json\";\r\nimport \"ace-builds/src-noconflict/mode-python\";\r\nimport \"ace-builds/src-noconflict/ext-language_tools\"\r\n\r\n// import \"ace-builds/src-noconflict/theme-twilight\";\r\n// import \"brace/theme/tomorrow\";\r\n// import \"brace/theme/ambiance\";\r\n// import \"brace/theme/chaos\";\r\n// import \"brace/theme/chrome\";\r\n// import \"brace/theme/clouds\";\r\n// import \"brace/theme/clouds_midnight\";\r\n// import \"brace/theme/cobalt\";\r\n// import \"brace/theme/crimson_editor\";\r\n// import \"brace/theme/dawn\";\r\n// import \"brace/theme/dracula\";\r\n// import \"brace/theme/dreamweaver\";\r\n// import \"brace/theme/eclipse\";\r\n// import \"brace/theme/gob\";\r\n// import \"brace/theme/gruvbox\";\r\n// import \"brace/theme/idle_fingers\";  // Intellij\r\n// import \"brace/theme/katzenmilch\";\r\n// import \"brace/theme/kr_theme\";\r\n// import \"brace/theme/kuroir\";\r\n// import \"brace/theme/merbivore\";\r\n// import \"brace/theme/merbivore_soft\";\r\n// import \"brace/theme/mono_industrial\";\r\n// import \"brace/theme/monokai\";\r\n// import \"brace/theme/pastel_on_dark\";\r\n// import \"brace/theme/solarized_light\";\r\n// import \"brace/theme/sqlserver\";\r\n// import \"brace/theme/vibrant_ink\";\r\n\r\nclass BlockList extends React.Component {\r\n\r\n  editBlockNameHandler = () => {\r\n    console.log(\"file name edited hah!\");\r\n    let curBlockContainer = document.getElementById(this.props.selectedBlock);\r\n    curBlockContainer.querySelector('.input > .inner-block-container > .block-name-container > .block-name-wrapper > .saved-block-name').classList.add('hidden');\r\n    curBlockContainer.querySelector('.input > .inner-block-container > .block-name-container > .block-name-wrapper > .edit-block-name').classList.remove('hidden');\r\n  }\r\n\r\n  onMouseOverHanlder = (event) => {\r\n    event.target.classList.remove('outline');\r\n  }\r\n\r\n  onMouseLeaveHanlder = (event) => {\r\n    event.target.classList.add('outline');\r\n  }\r\n\r\n  // onMouseOverOptionTabHanlder = (event, selectedOption, optionId) => {\r\n  //   if (selectedOption !== optionId) {\r\n  //     event.target.querySelector('.edit').classList.remove('invisible');\r\n  //     event.target.querySelector('.close').classList.remove('invisible');\r\n  //   }\r\n  // }\r\n\r\n  // onMouseLeaveOptionTabHanlder = (event, selectedOption, optionId) => {\r\n  //   if (selectedOption !== optionId) {\r\n  //     event.target.querySelector('.edit').classList.add('invisible');\r\n  //     event.target.querySelector('.close').classList.add('invisible');\r\n  //   }\r\n  // }\r\n\r\n  onBlockNameSubmitHandler = (event) => {\r\n    event.preventDefault();\r\n    console.log(event.target.querySelector('input').value);\r\n    let clonedBlocks = this.props.blocks.map(block => ({ ...block }));\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (this.props.selectedBlock === clonedBlocks[i].id) {\r\n        clonedBlocks[i].title = event.target.querySelector('input').value;\r\n        break;\r\n      }\r\n    }\r\n    this.props.onBlocksUpdate(clonedBlocks);\r\n    let curBlockContainer = document.getElementById(this.props.selectedBlock);\r\n    curBlockContainer.querySelector('.input > .inner-block-container > .block-name-container > .block-name-wrapper > .saved-block-name').classList.remove('hidden');\r\n    curBlockContainer.querySelector('.input > .inner-block-container > .block-name-container > .block-name-wrapper > .edit-block-name').classList.add('hidden');\r\n  }\r\n\r\n  editOptionNameHandler = (blockId) => {\r\n    let curBlockContainer = document.getElementById(blockId);\r\n    console.log(curBlockContainer);\r\n    let curOptionNameContainer = curBlockContainer.querySelector('.input > .inner-block-container > .inner-block-tab-container-wrapper > .options-tab-container > .option-tab-selected > .option-name-container');\r\n    console.log(curOptionNameContainer);\r\n    curOptionNameContainer.querySelector('.saved-option-name').classList.add('hidden');\r\n    curOptionNameContainer.querySelector('.edit-option-name').classList.remove('hidden');\r\n    // curBlockContainer.querySelector('.input > .inner-block-container > .inner-block-tab-container-wrapper > .options-tab-container > .option-tab-selected > .option-name-container > .saved-option-name').classList.add('hidden');\r\n    // curBlockContainer.querySelector('.input > .inner-block-container > .inner-block-tab-container-wrapper > .options-tab-container > .option-tab-selected > .option-name-container > .edit-option-name').classList.remove('hidden');\r\n  }\r\n\r\n  onOptionNameSubmitHandler = (event, blockId, optionId) => {\r\n    event.preventDefault();\r\n    console.log(event.target.querySelector('input').value);\r\n    let clonedBlocks = this.props.blocks.map(block => ({ ...block }));\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (blockId === clonedBlocks[i].id) {\r\n        for (let j = 0; j < clonedBlocks[i].options.length; j++) {\r\n          if (optionId === clonedBlocks[i].options[j].optionId) {\r\n            clonedBlocks[i].options[j].optionTitle = event.target.querySelector('input').value;\r\n            break;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    this.props.onBlocksUpdate(clonedBlocks);\r\n    let curBlockContainer = document.getElementById(blockId);\r\n    let curOptionNameContainer = curBlockContainer.querySelector('.input > .inner-block-container > .inner-block-tab-container-wrapper > .options-tab-container > .option-tab-selected > .option-name-container');\r\n    curOptionNameContainer.querySelector('.saved-option-name').classList.remove('hidden');\r\n    curOptionNameContainer.querySelector('.edit-option-name').classList.add('hidden');\r\n  }\r\n\r\n  // onOptionDeleteHandler = (blockId, optionId) => {\r\n  //   console.log(\"onOptionDeleteHandler invoked!!!\");\r\n  //   let clonedBlocks = this.props.blocks.map(block => ({ ...block }));\r\n  //   for (let i = 0; i < clonedBlocks.length; i++) {\r\n  //     if (blockId === clonedBlocks[i].id) {\r\n  //       let selectedOptionIndex;\r\n  //       for (let j = 0; j < clonedBlocks[i].options.length; j++) {\r\n  //         if (optionId === clonedBlocks[i].options[j].optionId) {\r\n  //           selectedOptionIndex = j;\r\n  //           console.log(j);\r\n  //           break;\r\n  //         }\r\n  //       }\r\n  //       console.log(clonedBlocks[i].options[selectedOptionIndex]);\r\n  //       clonedBlocks[i].selectedOption = clonedBlocks[i].options[selectedOptionIndex + 1].optionId;\r\n  //       const filteredOptions = clonedBlocks[i].options.filter(option => option.optionId !== optionId);\r\n  //       clonedBlocks[i].options = filteredOptions;\r\n  //       console.log(clonedBlocks[i].options);\r\n  //       break;\r\n  //     }\r\n  //   }\r\n  //   console.log(clonedBlocks);\r\n  //   this.props.onBlocksUpdate(clonedBlocks);\r\n  // }\r\n\r\n  onDropDownIconClick = (blockId) => {\r\n    console.log(\"onDropDownIconClick invoked\");\r\n    this.props.onBlockDropDownClick(blockId);\r\n    let curBlockContainer = document.getElementById(blockId);\r\n    let curInnerBlock = curBlockContainer.querySelector('.input > .inner-block-container > .inner-block-tab-container-wrapper');\r\n    console.log(curInnerBlock);\r\n    console.log(curInnerBlock.style.display);\r\n    if (!curInnerBlock.style.display || curInnerBlock.style.display === \"block\") {\r\n      curInnerBlock.style.display = \"none\";\r\n      console.log(\"collapsed\");\r\n    } else {\r\n      curInnerBlock.style.display = \"block\";\r\n      console.log(\"expanded\");\r\n    }\r\n  }\r\n\r\n  getRenderedContentForEditor = (block) => {\r\n    if (!block.blockType || block.blockType === \"Normal Block\" || block.blockType === \"Boba Config\") {\r\n      // console.log(\"getRenderedContentForEditor returns: \" + block.content);\r\n      return block.content;\r\n    } else {\r\n      for (let i = 0; i < block.options.length; i++) {\r\n        if (block.options[i].optionId === block.selectedOption) {\r\n          return block.options[i].optionContent;\r\n        }\r\n      }\r\n      return \"Some bug in getRenderedContentForEditor\";\r\n    }\r\n  }\r\n\r\n  getModeForEditor = (block) => {\r\n    if (!block.language) {\r\n      return \"plain_text\";\r\n    } else if (block.blockType === \"Boba Config\") {\r\n      return \"json\";\r\n    } else {\r\n      return block.language;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const renderedBlocks = this.props.blocks.map((block) => {\r\n      const active = this.props.expandedBlocks.includes(block.id) ? 'down' : 'right';\r\n      const angleMessage = this.props.expandedBlocks.includes(block.id) ? 'collapse' : 'expand';\r\n      const selected = this.props.selectedBlock === block.id ? 'selected' : 'unselected';\r\n      const invisible = this.props.selectedBlock === block.id ? '' : 'invisible';\r\n      const hidden = block.blockType === 'Decision Block' ? '' : 'hidden';\r\n      let options;\r\n      if (block.blockType === 'Decision Block') {\r\n        options = block.options.map((option) => {\r\n          const optionTabSelected = option.optionId === block.selectedOption ? 'option-tab-selected' : 'option-tab-unselected';\r\n          const optionTabInvisible = option.optionId === block.selectedOption ? '' : 'invisible';\r\n          return <div\r\n            key={block.id.toString() + \"-\" + option.optionId}\r\n            className={`${optionTabSelected}`}\r\n            onClick={() => this.props.onOptionTabSelected(block.id, option.optionId)}\r\n          // onMouseOver={(event) => this.onMouseOverOptionTabHanlder(event, block.selectedOption, option.optionId)}\r\n          // onMouseLeave={(event) => this.onMouseLeaveOptionTabHanlder(event, block.selectedOption, option.optionId)}\r\n          >\r\n            <div className=\"option-name-container\">\r\n              <span className=\"saved-option-name\">\r\n                {option.optionTitle}\r\n              </span>\r\n              <form className=\"edit-option-name hidden\" onSubmit={(event) => this.onOptionNameSubmitHandler(event, block.id, option.optionId)}>\r\n                <input className=\"edit-option-name-box\" type=\"text\" placeholder={option.optionTitle}></input>\r\n                <button>Confirm</button>\r\n              </form>\r\n            </div>\r\n            <i\r\n              className={`edit outline icon edit-option-icon ${optionTabInvisible}`}\r\n              title=\"click to define the name for this option\"\r\n              onClick={() => this.editOptionNameHandler(block.id)}\r\n            >\r\n            </i>\r\n            <i\r\n              className={`close icon close-option-icon ${optionTabInvisible}`}\r\n              title=\"click to delete this option\"\r\n              onClick={(event) => this.props.onOptionDeleteHandler(block.id, option.optionId, event)}\r\n            >\r\n            </i>\r\n          </div>\r\n        });\r\n      }\r\n      return <div key={block.id} id={block.id} className={`block-container ${selected}`} onClick={() => this.props.onBlockSelected(block.id)}>\r\n        <div className=\"input\">\r\n          <div className=\"prompt-container\">\r\n            <span className=\"invisible\">\r\n              <i className=\"edit outline icon\"\r\n                title=\"click to define the name for this block\"\r\n                onClick={this.editBlockNameHandler}\r\n                onMouseOver={this.onMouseOverHanlder}\r\n                onMouseLeave={this.onMouseLeaveHanlder}>\r\n              </i>\r\n            </span>\r\n            <i className={`angle ${active} icon`}\r\n              title={`click to ${angleMessage} this block`}\r\n              onClick={() => this.onDropDownIconClick(block.id)}>\r\n            </i>\r\n          </div>\r\n          <div className=\"inner-block-container\">\r\n            <div className=\"block-name-container\">\r\n              <div className=\"block-name-wrapper\">\r\n                <span className=\"saved-block-name\">\r\n                  {block.title}\r\n                </span>\r\n                <form className=\"edit-block-name hidden\" onSubmit={this.onBlockNameSubmitHandler}>\r\n                  <input className=\"edit-block-name-box\" type=\"text\" placeholder={block.title}></input>\r\n                  <button>Confirm</button>\r\n                </form>\r\n              </div>\r\n              <span className={`${invisible}`}>\r\n                <i className=\"edit outline icon\"\r\n                  title=\"click to define the name for this block\"\r\n                  onClick={this.editBlockNameHandler}\r\n                  onMouseOver={this.onMouseOverHanlder}\r\n                  onMouseLeave={this.onMouseLeaveHanlder}>\r\n                </i>\r\n              </span>\r\n            </div>\r\n            <div className=\"inner-block-tab-container-wrapper\">\r\n              <div className={`options-tab-container ${hidden}`}>\r\n                {options}\r\n                <i\r\n                  className=\"plus circle icon\"\r\n                  title=\"click to add a new option\"\r\n                  onClick={() => this.props.addOptionWithinBlockHandler(block.id)}\r\n                >\r\n                </i>\r\n              </div>\r\n              {/* <div\r\n                className=\"inner-block\"\r\n                contentEditable=\"true\"\r\n                suppressContentEditableWarning={true}\r\n                onInput={(event) => this.props.onBlockContentChangeHandler(event, block.id)}\r\n              >\r\n\r\n              </div> */}\r\n              <AceEditor\r\n                // onLoad={function(editor){ editor.renderer.setPadding(5); editor.renderer.setScrollMargin(10); }}\r\n                onLoad={function(editor){editor.container.style.lineHeight = 1.5;}}\r\n                mode={this.getModeForEditor(block)}\r\n                // placeholder=\"type something\"\r\n                theme=\"iplastic\"\r\n                width=\"100%\"\r\n                fontSize={14}\r\n                maxLines={10000}\r\n                value={this.getRenderedContentForEditor(block)}\r\n                onChange={(code) => this.props.onBlockContentChangeHandler(code, block.id)}\r\n                name={block.id.toString()}\r\n                editorProps={{ $blockScrolling: true }}\r\n                setOptions={{\r\n                  enableBasicAutocompletion: true,\r\n                  enableLiveAutocompletion: true,\r\n                  enableSnippets: true\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        {renderedBlocks}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BlockList;","import React from 'react';\r\nimport './Editor.css';\r\nimport Accordion from './Accordion';\r\nimport BlockList from './BlockList';\r\n\r\nclass Editor extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ten wide column\">\r\n        <div className=\"ui segment editor\">\r\n          {/* <Accordion\r\n            blocks={this.props.blocks}\r\n            onBlockDropDownClick={this.props.onBlockDropDownClick}\r\n            expandedBlocks={this.props.expandedBlocks}\r\n            removeBlockHandler={this.props.removeBlockHandler}\r\n          /> */}\r\n          <BlockList\r\n            blocks={this.props.blocks}\r\n            onBlockDropDownClick={this.props.onBlockDropDownClick}\r\n            expandedBlocks={this.props.expandedBlocks}\r\n            removeBlockHandler={this.props.removeBlockHandler}\r\n            onBlockSelected={this.props.onBlockSelected}\r\n            selectedBlock={this.props.selectedBlock}\r\n            onBlocksUpdate={this.props.onBlocksUpdate}\r\n            addOptionWithinBlockHandler={this.props.addOptionWithinBlockHandler}\r\n            onOptionTabSelected={this.props.onOptionTabSelected}\r\n            onOptionDeleteHandler={this.props.onOptionDeleteHandler}\r\n            onBlockContentChangeHandler={this.props.onBlockContentChangeHandler}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Editor;","import React from 'react';\r\nimport TopMenu from './TopMenu';\r\nimport VerticalMenu from './VerticalMenu';\r\nimport Editor from './Editor';\r\nimport './Editor.css';\r\nimport FileSaver from 'file-saver';\r\nimport axios from 'axios';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    blocks: [\r\n      {\r\n        id: 0,\r\n        title: 'Boba Config',\r\n        content: 'Please define your Boba Config here.',\r\n        blockType: 'Boba Config',\r\n        language: 'json',\r\n        options: [],\r\n        selectedOption: undefined,\r\n        nextOptionId: undefined\r\n      }\r\n    ],\r\n    expandedBlocks: [0],\r\n    nextBlockId: 1,\r\n    selectedBlock: 0,\r\n    selectedBlockType: 'Boba Config',\r\n    selectedBlockLanguage: 'json'\r\n  };\r\n\r\n  onBlocksUpdate = (updatedBlocks) => {\r\n    this.setState({ blocks: updatedBlocks });\r\n    console.log(\"onBlocksUpdate invoked\");\r\n    console.log(this.state.blocks);\r\n  };\r\n\r\n  addBlockHandler = () => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    // console.log(this.state.blocks);\r\n    clonedBlocks.push({\r\n      id: this.state.nextBlockId,\r\n      title: 'Input Script Block ' + this.state.nextBlockId,\r\n      content: 'Please write your script for this block here.',\r\n      blockType: undefined,\r\n      language: undefined\r\n    });\r\n    this.onBlockDropDownClick(this.state.nextBlockId);\r\n    this.setState({ blocks: clonedBlocks, nextBlockId: this.state.nextBlockId + 1 });\r\n    console.log(this.state.nextBlockId);\r\n  };\r\n\r\n  addOptionWithinBlockHandler = (blockId) => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (blockId === clonedBlocks[i].id) {\r\n        selectedBlockIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    clonedBlocks[selectedBlockIndex].options.push({\r\n      optionId: clonedBlocks[selectedBlockIndex].nextOptionId,\r\n      optionTitle: 'unnamed_option_' + clonedBlocks[selectedBlockIndex].nextOptionId,\r\n      optionContent: 'Please define your option here.'\r\n    });\r\n    clonedBlocks[selectedBlockIndex].selectedOption = clonedBlocks[selectedBlockIndex].nextOptionId;\r\n    clonedBlocks[selectedBlockIndex].nextOptionId = clonedBlocks[selectedBlockIndex].nextOptionId + 1;\r\n    this.setState({\r\n      blocks: clonedBlocks,\r\n      selectedBlock: blockId,\r\n      selectedBlockType: this.state.blocks[selectedBlockIndex].blockType,\r\n      selectedBlockLanguage: this.state.blocks[selectedBlockIndex].language\r\n    });\r\n  };\r\n\r\n  insertBlockAboveHandler = () => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (this.state.selectedBlock === clonedBlocks[i].id) {\r\n        clonedBlocks.splice(i, 0, {\r\n          id: this.state.nextBlockId,\r\n          title: 'unnamed_block_' + this.state.nextBlockId,\r\n          content: 'Please write your script for this block here.',\r\n          blockType: undefined,\r\n          language: undefined,\r\n          options: []\r\n        });\r\n        break;\r\n      }\r\n    }\r\n    this.onBlockDropDownClick(this.state.nextBlockId);\r\n    this.setState({\r\n      blocks: clonedBlocks,\r\n      nextBlockId: this.state.nextBlockId + 1,\r\n      selectedBlock: this.state.nextBlockId,\r\n      selectedBlockType: undefined,\r\n      selectedBlockLanguage: undefined\r\n    });\r\n    console.log(this.state.nextBlockId);\r\n  };\r\n\r\n  insertBlockBelowHandler = () => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (this.state.selectedBlock === clonedBlocks[i].id) {\r\n        clonedBlocks.splice(i + 1, 0, {\r\n          id: this.state.nextBlockId,\r\n          title: 'unnamed_block_' + this.state.nextBlockId,\r\n          content: 'Please write your script for this block here.',\r\n          blockType: undefined,\r\n          language: undefined,\r\n          options: []\r\n        });\r\n        break;\r\n      }\r\n    }\r\n    this.onBlockDropDownClick(this.state.nextBlockId);\r\n    this.setState({\r\n      blocks: clonedBlocks,\r\n      nextBlockId: this.state.nextBlockId + 1,\r\n      selectedBlock: this.state.nextBlockId,\r\n      selectedBlockType: undefined,\r\n      selectedBlockLanguage: undefined\r\n    });\r\n    console.log(this.state.nextBlockId);\r\n  };\r\n\r\n  moveSelectedBlockUpHandler = () => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (this.state.selectedBlock === clonedBlocks[i].id) {\r\n        selectedBlockIndex = i;\r\n      }\r\n    }\r\n    console.log(\"moveSelectedBlockUpHandler selectedBlockIndex: \" + selectedBlockIndex);\r\n    if (!selectedBlockIndex || selectedBlockIndex === 0) {\r\n      return;\r\n    }\r\n    let curSelectedBlock = clonedBlocks[selectedBlockIndex];\r\n    clonedBlocks[selectedBlockIndex] = clonedBlocks[selectedBlockIndex - 1];\r\n    clonedBlocks[selectedBlockIndex - 1] = curSelectedBlock;\r\n    this.setState({ blocks: clonedBlocks });\r\n  };\r\n\r\n  moveSelectedBlockDownHandler = () => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (this.state.selectedBlock === clonedBlocks[i].id) {\r\n        selectedBlockIndex = i;\r\n      }\r\n    }\r\n    console.log(\"moveSelectedBlockDownHandler selectedBlockIndex: \" + selectedBlockIndex);\r\n    if ((!selectedBlockIndex && selectedBlockIndex !== 0) || selectedBlockIndex === clonedBlocks.length - 1) {\r\n      return;\r\n    }\r\n    let curSelectedBlock = clonedBlocks[selectedBlockIndex];\r\n    clonedBlocks[selectedBlockIndex] = clonedBlocks[selectedBlockIndex + 1];\r\n    clonedBlocks[selectedBlockIndex + 1] = curSelectedBlock;\r\n    this.setState({ blocks: clonedBlocks });\r\n  };\r\n\r\n  onBlockDropDownClick = (blockId) => {\r\n    // todo: Better switch to using set instead of array in the future\r\n    // because of efficiency. But using set causes a bug that I haven't\r\n    // figure out yet.\r\n\r\n    // let clonedExpandedBlocks = new Set(this.state.expandedBlocks);\r\n    // console.log(clonedExpandedBlocks);\r\n    // clonedExpandedBlocks.add(index);\r\n    // console.log(this.state.expandedBlocks);\r\n    // this.setState({expandedBlocks: index});\r\n    let clonedExpandedBlocks = [...this.state.expandedBlocks];\r\n    if (clonedExpandedBlocks.includes(blockId)) {\r\n      for (let i = 0; i < clonedExpandedBlocks.length; i++) {\r\n        if (clonedExpandedBlocks[i] === blockId) {\r\n          clonedExpandedBlocks.splice(i, 1);\r\n        }\r\n      }\r\n    } else {\r\n      clonedExpandedBlocks.push(blockId);\r\n    }\r\n    this.setState({ expandedBlocks: clonedExpandedBlocks });\r\n    console.log(this.state.expandedBlocks);\r\n  };\r\n\r\n  removeBlockHandler = (blockId) => {\r\n    if (this.state.blocks.length === 1) {\r\n      return;\r\n    }\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < this.state.blocks.length; i++) {\r\n      if (this.state.selectedBlock === this.state.blocks[i].id) {\r\n        selectedBlockIndex = i;\r\n      }\r\n    }\r\n    console.log(\"removeBlockHandler selectedBlockIndex: \" + selectedBlockIndex);\r\n    if (selectedBlockIndex === this.state.blocks.length - 1) {\r\n      this.setState({ selectedBlock: this.state.blocks[selectedBlockIndex - 1].id });\r\n    } else {\r\n      this.setState({ selectedBlock: this.state.blocks[selectedBlockIndex + 1].id });\r\n    }\r\n    const filteredBlcok = this.state.blocks.filter(block => block.id !== blockId);\r\n    this.setState({ blocks: filteredBlcok });\r\n    // console.log(this.state.blocks);\r\n    // console.log(\"remove block handler invoked\");\r\n  };\r\n\r\n  onBlockSelected = (blockId) => {\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < this.state.blocks.length; i++) {\r\n      if (blockId === this.state.blocks[i].id) {\r\n        selectedBlockIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      selectedBlock: blockId,\r\n      selectedBlockType: this.state.blocks[selectedBlockIndex].blockType,\r\n      selectedBlockLanguage: this.state.blocks[selectedBlockIndex].language\r\n    });\r\n    console.log(\"onBlockSelected invoked!\");\r\n    console.log(\"current selected block id: \" + this.state.selectedBlock);\r\n    console.log(\"current selectedBlockType: \" + this.state.selectedBlockType);\r\n    console.log(\"current selectedBlockLanguage: \" + this.state.selectedBlockLanguage);\r\n  };\r\n\r\n  onOptionTabSelected = (blockId, optionId) => {\r\n    console.log(\"onOptionTabSelected invoked!\");\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (blockId === clonedBlocks[i].id) {\r\n        selectedBlockIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    clonedBlocks[selectedBlockIndex].selectedOption = optionId;\r\n    this.setState({\r\n      blocks: clonedBlocks,\r\n      selectedBlock: blockId,\r\n      selectedBlockType: this.state.blocks[selectedBlockIndex].blockType,\r\n      selectedBlockLanguage: this.state.blocks[selectedBlockIndex].language\r\n    });\r\n  };\r\n\r\n  onOptionDeleteHandler = (blockId, optionId, event) => {\r\n    console.log(\"onOptionDeleteHandler invoked!!!\");\r\n    event.stopPropagation();\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (blockId === clonedBlocks[i].id) {\r\n        let selectedOptionIndex;\r\n        for (let j = 0; j < clonedBlocks[i].options.length; j++) {\r\n          if (optionId === clonedBlocks[i].options[j].optionId) {\r\n            selectedOptionIndex = j;\r\n            console.log(j);\r\n            break;\r\n          }\r\n        }\r\n        console.log(clonedBlocks[i].options[selectedOptionIndex]);\r\n        if (selectedOptionIndex > 0) {\r\n          clonedBlocks[i].selectedOption = clonedBlocks[i].options[selectedOptionIndex - 1].optionId;\r\n          const filteredOptions = clonedBlocks[i].options.filter(option => option.optionId !== optionId);\r\n          clonedBlocks[i].options = filteredOptions;\r\n          console.log(clonedBlocks[i].options);\r\n          this.setState({\r\n            blocks: clonedBlocks,\r\n            selectedBlock: blockId,\r\n            selectedBlockType: clonedBlocks[i].blockType,\r\n            selectedBlockLanguage: clonedBlocks[i].language\r\n          });\r\n        } else if (clonedBlocks[i].options.length > 1) {\r\n          clonedBlocks[i].selectedOption = clonedBlocks[i].options[selectedOptionIndex + 1].optionId;\r\n          const filteredOptions = clonedBlocks[i].options.filter(option => option.optionId !== optionId);\r\n          clonedBlocks[i].options = filteredOptions;\r\n          console.log(clonedBlocks[i].options);\r\n          this.setState({\r\n            blocks: clonedBlocks,\r\n            selectedBlock: blockId,\r\n            selectedBlockType: clonedBlocks[i].blockType,\r\n            selectedBlockLanguage: clonedBlocks[i].language\r\n          });\r\n        } else {\r\n          clonedBlocks[i].selectedOption = undefined;\r\n          clonedBlocks[i].nextOptionId = undefined;\r\n          clonedBlocks[i].options.pop();\r\n          clonedBlocks[i].blockType = 'Normal Block';\r\n          this.setState({\r\n            blocks: clonedBlocks,\r\n            selectedBlock: blockId,\r\n            selectedBlockType: clonedBlocks[i].blockType,\r\n            selectedBlockLanguage: clonedBlocks[i].language\r\n          });\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  copySelectedBlockHandler = () => {\r\n    let curBlockContainer = document.getElementById(this.state.selectedBlock);\r\n    let elm = curBlockContainer.querySelector('.input > .inner-block-container > .inner-block');\r\n\r\n    // for Internet Explorer\r\n\r\n    if (document.body.createTextRange) {\r\n      let range = document.body.createTextRange();\r\n      range.moveToElementText(elm);\r\n      range.select().createTextRange();\r\n      document.execCommand(\"Copy\");\r\n      alert(\"Copied div content to clipboard\");\r\n    } else if (window.getSelection) {\r\n      // other browsers\r\n      let selection = window.getSelection();\r\n      let range = document.createRange();\r\n      range.selectNodeContents(elm);\r\n      selection.removeAllRanges();\r\n      selection.addRange(range);\r\n      document.execCommand(\"Copy\");\r\n      alert(\"Copied div content to clipboard\");\r\n    }\r\n  };\r\n\r\n  pasteBlockBelowHanlder = () => {\r\n    this.insertBlockBelowHandler();\r\n    let curBlockContainer = document.getElementById(this.state.selectedBlock);\r\n    console.log(\"current selected block is: \" + this.state.selectedBlock);\r\n    let elm = curBlockContainer.querySelector('.input > .inner-block-container > .inner-block');\r\n    elm.focus();\r\n    document.execCommand(\"paste\");\r\n    console.log(elm);\r\n    console.log(\"pasted text is: \" + elm.textContent);\r\n  };\r\n\r\n  onBlockTypeSelectHandler = (e, { value }) => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (this.state.selectedBlock === clonedBlocks[i].id) {\r\n        selectedBlockIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    // clonedBlocks[selectedBlockIndex].blockType = value;\r\n    if (value === 'Decision Block') {\r\n      clonedBlocks[selectedBlockIndex].blockType = value;\r\n      clonedBlocks[selectedBlockIndex].selectedOption = 0;\r\n      clonedBlocks[selectedBlockIndex].nextOptionId = 1;\r\n      clonedBlocks[selectedBlockIndex].options.push({\r\n        optionId: 0,\r\n        optionTitle: 'unnamed_option_' + clonedBlocks[selectedBlockIndex].selectedOption,\r\n        optionContent: clonedBlocks[selectedBlockIndex].content\r\n      });\r\n      clonedBlocks[selectedBlockIndex].content = \"Please write your script for this block here.\";\r\n      this.setState({ blocks: clonedBlocks, selectedBlockType: value });\r\n    } else if (clonedBlocks[selectedBlockIndex].blockType === 'Decision Block') {\r\n      if (clonedBlocks[selectedBlockIndex].options.length > 1) {\r\n        alert(\"The selected block couldn't be set to Normal Block since there are more than 1 option right now. Please delete to 1 option so that it becomes the Normal Block.\");\r\n      } else {\r\n        console.log(\"could change to Normal Block now.\");\r\n        clonedBlocks[selectedBlockIndex].blockType = value;\r\n        clonedBlocks[selectedBlockIndex].content = clonedBlocks[selectedBlockIndex].options.pop().optionContent;\r\n        this.setState({ blocks: clonedBlocks, selectedBlockType: value });\r\n      }\r\n    } else {\r\n      clonedBlocks[selectedBlockIndex].blockType = value;\r\n      this.setState({ blocks: clonedBlocks, selectedBlockType: value });\r\n    }\r\n    // this.setState({ blocks: clonedBlocks, selectedBlockType: value });\r\n    console.log(\"onBlockTypeSelectHandler invoked!!!\");\r\n  };\r\n\r\n  onBlockLanguageSelectHandler = (e, { value }) => {\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (this.state.selectedBlock === clonedBlocks[i].id) {\r\n        selectedBlockIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    clonedBlocks[selectedBlockIndex].language = value;\r\n    this.setState({ blocks: clonedBlocks, selectedBlockLanguage: value });\r\n    console.log(\"onBlockLanguageSelectHandler invoked!!!\");\r\n  };\r\n\r\n  onBlockContentChangeHandler = (code, blockId) => {\r\n    console.log(\"0nBlockContentChangeHandler invoked!!!\");\r\n    // this.setEndOfContenteditable(event.target);\r\n    let clonedBlocks = this.state.blocks.map(block => ({ ...block }));\r\n    let selectedBlockIndex;\r\n    for (let i = 0; i < clonedBlocks.length; i++) {\r\n      if (blockId === clonedBlocks[i].id) {\r\n        selectedBlockIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    if (!clonedBlocks[selectedBlockIndex].blockType || clonedBlocks[selectedBlockIndex].blockType === \"Normal Block\" || clonedBlocks[selectedBlockIndex].blockType === \"Boba Config\") {\r\n      clonedBlocks[selectedBlockIndex].content = code;\r\n    } else {\r\n      for (let i = 0; i < clonedBlocks[selectedBlockIndex].options.length; i++) {\r\n        if (clonedBlocks[selectedBlockIndex].options[i].optionId === clonedBlocks[selectedBlockIndex].selectedOption) {\r\n          clonedBlocks[selectedBlockIndex].options[i].optionContent = code;\r\n        }\r\n      }\r\n    }\r\n    this.setState({ blocks: clonedBlocks });\r\n  };\r\n\r\n  onDownloadClickHandler = () => {\r\n    console.log('onDownloadClickHandler is invoked!!!');\r\n    let save = this.makeUpScriptFile();\r\n    let blob = new Blob([save], {\r\n      type: \"text/plain;charset=utf-8\"\r\n    });\r\n    let filename = \"template\";\r\n    if (this.state.selectedBlockLanguage === \"python\") {\r\n      filename += \".py\";\r\n    } else {\r\n      filename += \".\" + this.state.selectedBlockLanguage;\r\n    }\r\n    FileSaver.saveAs(blob, filename);\r\n  };\r\n\r\n  onCompileClickHandler = async () => {\r\n    const response = await axios.post(\r\n      '/compile',\r\n      {script: this.makeUpScriptFile()},\r\n      { headers: { 'Content-Type': 'application/json' } }\r\n    );\r\n    console.log(response);\r\n  }\r\n\r\n  makeUpScriptFile = () => {\r\n    let script = \"\";\r\n    for (let i = 0; i < this.state.blocks.length; i++) {\r\n      let curBlock = this.state.blocks[i];\r\n      if (curBlock.blockType === 'Boba Config') {\r\n        script += \"# --- (BOBA_CONFIG)\\n\" + curBlock.content + \"\\n# --- (END)\\n\";\r\n      } else if (curBlock.blockType === 'Normal Block') {\r\n        script += \"# --- (\" + curBlock.title + \")\\n\" + curBlock.content + \"\\n\";\r\n      } else {\r\n        for (let j = 0; j < curBlock.options.length; j++) {\r\n          let curOption = curBlock.options[j];\r\n          script += \"# --- (\" + curBlock.title + \") \" + curOption.optionTitle + \"\\n\" + curOption.optionContent + \"\\n\";\r\n        }\r\n      }\r\n    }\r\n    return script;\r\n  }\r\n\r\n  render() {\r\n    console.log(\"App is rerendered, current blocks:\");\r\n    console.log(this.state.blocks);\r\n    return (\r\n      <div>\r\n        <TopMenu\r\n          selectedBlock={this.state.selectedBlock}\r\n          selectedBlockType={this.state.selectedBlockType}\r\n          selectedBlockLanguage={this.state.selectedBlockLanguage}\r\n          addBlockHandler={this.addBlockHandler}\r\n          insertBlockAboveHandler={this.insertBlockAboveHandler}\r\n          insertBlockBelowHandler={this.insertBlockBelowHandler}\r\n          moveSelectedBlockUpHandler={this.moveSelectedBlockUpHandler}\r\n          moveSelectedBlockDownHandler={this.moveSelectedBlockDownHandler}\r\n          removeBlockHandler={this.removeBlockHandler}\r\n          copySelectedBlockHandler={this.copySelectedBlockHandler}\r\n          pasteBlockBelowHanlder={this.pasteBlockBelowHanlder}\r\n          onBlockTypeSelectHandler={this.onBlockTypeSelectHandler}\r\n          onBlockLanguageSelectHandler={this.onBlockLanguageSelectHandler}\r\n          onDownloadClickHandler={this.onDownloadClickHandler}\r\n          onCompileClickHandler={this.onCompileClickHandler}\r\n        />\r\n        {/* <p>My Token = {window.token}</p> */}\r\n        <div className=\"main-area\">\r\n          <div className=\"ui container\">\r\n            {/* <VerticalMenu /> */}\r\n            <Editor\r\n              blocks={this.state.blocks}\r\n              onBlockDropDownClick={this.onBlockDropDownClick}\r\n              expandedBlocks={this.state.expandedBlocks}\r\n              removeBlockHandler={this.removeBlockHandler}\r\n              onBlockSelected={this.onBlockSelected}\r\n              selectedBlock={this.state.selectedBlock}\r\n              onBlocksUpdate={this.onBlocksUpdate}\r\n              addOptionWithinBlockHandler={this.addOptionWithinBlockHandler}\r\n              onOptionTabSelected={this.onOptionTabSelected}\r\n              onOptionDeleteHandler={this.onOptionDeleteHandler}\r\n              onBlockContentChangeHandler={this.onBlockContentChangeHandler}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.querySelector('#root')\r\n);"],"sourceRoot":""}